# プロジェクトドキュメント管理

このディレクトリには、Webアプリケーション開発プロジェクトの全フェーズにおけるドキュメントを管理します。

## ディレクトリ構造

```
Docs/
├── 01-requirements/          # 要件定義
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── 02-basic-design/          # 基本設計
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── 03-detailed-design/       # 詳細設計
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── 04-test-plan/             # テスト計画
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── 05-operation-plan/        # 運用計画
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── 06-implementation/        # 実装
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── 07-testing/               # テスト
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── 08-release/               # リリース
│   ├── draft/                # 検討中の内容
│   └── fixed/                # 確定した内容
├── status.md                 # 現在の作業状況伝言メモ
└── README.md                 # このファイル
```

## 開発フェーズ

プロジェクトは以下の8つのフェーズで構成されます：

1. **要件定義** (01-requirements)
   - プロジェクトの目的、対象ユーザー、機能要件、非機能要件などを定義

2. **基本設計** (02-basic-design)
   - システム構成、アーキテクチャ、主要機能の設計、データベース設計（概要）、API設計（概要）など

3. **詳細設計** (03-detailed-design)
   - 大項目単位でファイル分割して管理
   - クラス設計、データベース詳細設計、処理フロー、ビジネスロジック、セキュリティ、エラーハンドリング、パフォーマンス、テスト設計
   - API詳細仕様は `draft/api/` ディレクトリ内に各APIごとのファイルとして作成し、確定したら `fixed/api/` に移動
   - 画面詳細設計は `draft/screens/` ディレクトリ内に各画面ごとのファイルとして作成し、確定したら `fixed/screens/` に移動
   - 各APIや画面を個別にfixしたか確認し、確定したものは `fixed/` に移動

4. **テスト計画** (04-test-plan)
   - テスト方針、テスト種別、テスト項目、テスト環境、スケジュールなど

5. **運用計画** (05-operation-plan)
   - デプロイ計画、監視・運用体制、バックアップ・リカバリ、障害対応手順、保守計画など

6. **実装** (06-implementation)
   - 実装方針、実装スケジュール、実装進捗管理、コードレビュー記録、実装メモなど

7. **テスト** (07-testing)
   - テスト実行記録、バグ管理、テスト結果サマリー、品質メトリクスなど

8. **リリース** (08-release)
   - リリース計画、リリースノート、リリースチェックリスト、リリース後の確認事項など

## 管理ルール

### draft/ と fixed/ の使い分け

- **draft/**: 検討中の内容を保存します
  - 作業中のドキュメント
  - レビュー中のドキュメント
  - 未確定の内容

- **fixed/**: 確定した内容を保存します
  - 承認済みのドキュメント
  - 確定した設計
  - 次のフェーズで参照する内容

### フェーズ間の依存関係

**重要なルール**: 次のフェーズに進む際は、必ず前のフェーズの `fixed/` ディレクトリの内容を参照してください。

例：
- 基本設計フェーズでは、要件定義の `fixed/` を参照
- 詳細設計フェーズでは、基本設計の `fixed/` を参照
- 実装フェーズでは、詳細設計の `fixed/` を参照

### ドキュメントの確定プロセス

1. 各フェーズで作業を開始する際、`draft/` ディレクトリに作業用ファイルを作成
2. 検討・レビューを経て内容を確定
3. 確定した内容を `fixed/` ディレクトリに移動またはコピー
4. 次のフェーズに進む前に、前のフェーズの `fixed/` を確認

## status.md の使い方

`status.md` は現在の作業状況を記録する伝言メモです。

### 目的

新しいチャットを開始した際に、前回の作業状況を引き継ぐために使用します。

### 記載内容

- **現在のモード**: 現在のモード（開発モード / 計画モード）
- **現在のフェーズ**: 現在作業しているフェーズ
- **作業中の内容**: 具体的に何を作業しているか
- **次のステップ**: 次に何をすべきか
- **注意事項・引き継ぎ事項**: 重要な注意点や引き継ぎ情報
- **最終更新日時**: 最後に更新した日時

### モードについて

このリポジトリには2つのモードがあります：

#### 開発モード
- **トリガー**: 「開発モードスタート」というプロンプト
- **用途**: 実際のシステム開発を進める
- **制約**: `.cursorrules` やテンプレートファイルは読み取り専用

#### 計画モード
- **トリガー**: 「計画モードスタート」というプロンプト
- **用途**: 基盤リポジトリ自体を改善する
- **権限**: すべてのドキュメントを修正可能

モードの詳細は、ルートディレクトリの `README.md` を参照してください。

### 更新タイミング

以下のタイミングで `status.md` を更新してください：

- モードが切り替わったとき
- フェーズが変わったとき
- 重要な決定事項があったとき
- 作業を中断するとき
- 次のステップが明確になったとき

### 新しいチャット開始時

新しいチャットを開始する際は、AIが自動的に `status.md` を読み込み、作業状況を把握します。

## テンプレートの使い方

各フェーズディレクトリには `template.md` が用意されています。

1. テンプレートを `draft/` ディレクトリにコピー
2. プロジェクトに合わせて内容を記入
3. 確定したら `fixed/` に移動またはコピー

例：
```
cp 01-requirements/template.md 01-requirements/draft/requirements-v1.md
# 編集作業
# 確定後
cp 01-requirements/draft/requirements-v1.md 01-requirements/fixed/requirements-v1.md
```

## ファイル命名規則

推奨されるファイル命名規則：

- バージョンを含める: `requirements-v1.md`, `requirements-v2.md`
- 日付を含める: `requirements-2024-01-15.md`
- 内容を表す: `api-design.md`, `database-design.md`

## 注意事項

- `fixed/` ディレクトリの内容は、次のフェーズで参照される重要な情報です
- 確定した内容を変更する場合は、新しいバージョンとして管理することを推奨します
- 重要な決定事項は必ず `fixed/` に保存してください
- 作業状況は定期的に `status.md` に記録してください

## モードとドキュメント管理

### 開発モードでのドキュメント管理

開発モードでは、以下のファイルは読み取り専用です：
- `.cursorrules`
- 各フェーズの `template.md` ファイル
- `README.md`
- `Docs/README.md`

`Docs/` ディレクトリ内のプロジェクト固有のドキュメント（`status.md` を含む）は作成・更新可能です。

### 計画モードでのドキュメント管理

計画モードでは、すべてのドキュメントを修正可能です：
- `.cursorrules`
- すべてのテンプレートファイル
- `README.md`
- `Docs/README.md`
- その他すべてのドキュメント

## 関連ファイル

- `.cursorrules`: AIコンサルタントの動作設定（モード判定ロジックを含む）
- `status.md`: 現在の作業状況伝言メモ（モード情報を含む）
- `../README.md`: リポジトリの説明とモードの使い方

