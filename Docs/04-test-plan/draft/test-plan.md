# テスト計画書

## 1. テスト方針

### 1.1 テストの目的
- ブログサイトの品質を確保する
- 機能要件と非機能要件が満たされていることを確認する
- ユーザーが快適に利用できることを確認する

### 1.2 テストの範囲
- フロントエンドアプリケーション（Next.js）
- microCMS APIとの連携
- すべての主要機能（記事一覧、記事詳細、カテゴリ、タグ、検索等）
- レスポンシブデザイン
- パフォーマンス
- セキュリティ

### 1.3 テストの除外範囲
- microCMSの管理画面（microCMS側で管理）
- 外部サービス（Google Analytics等）の動作確認（基本動作のみ確認）

### 1.4 テストの基本方針
- 自動テストを優先的に実施
- 手動テストは主要機能とUI/UXに重点を置く
- 継続的なテストを実施（CI/CDに組み込む）

## 2. テスト種別

### 2.1 単体テスト
- **目的**: 個別のコンポーネントや関数が正しく動作することを確認
- **対象**: Reactコンポーネント、ビジネスロジック、ユーティリティ関数
- **実施方法**: Jest + React Testing Library
- **判定基準**: カバレッジ70%以上

### 2.2 結合テスト
- **目的**: コンポーネント間の連携が正しく動作することを確認
- **対象**: ページコンポーネントとUIコンポーネントの連携
- **実施方法**: Jest + React Testing Library
- **判定基準**: 主要な連携パターンをすべてテスト

### 2.3 システムテスト
- **目的**: システム全体が正しく動作することを確認
- **対象**: すべての機能、画面遷移、API連携
- **実施方法**: 手動テスト + E2Eテスト（Playwright）
- **判定基準**: すべての機能が正常に動作

### 2.4 受入テスト
- **目的**: ユーザー要件が満たされていることを確認
- **対象**: 主要なユーザーシナリオ
- **実施方法**: 手動テスト
- **判定基準**: すべてのユーザーシナリオが正常に動作

### 2.5 パフォーマンステスト
- **目的**: パフォーマンス要件が満たされていることを確認
- **対象**: ページ読み込み速度、Core Web Vitals
- **実施方法**: Lighthouse、Web Vitals
- **判定基準**: Lighthouseスコア90点以上、Core Web Vitalsすべて「良好」

### 2.6 セキュリティテスト
- **目的**: セキュリティ要件が満たされていることを確認
- **対象**: XSS対策、HTTPS通信、APIキー管理
- **実施方法**: 手動テスト、セキュリティスキャン
- **判定基準**: 主要なセキュリティ対策が実装されている

### 2.7 ユーザビリティテスト
- **目的**: ユーザーが快適に利用できることを確認
- **対象**: UI/UX、レスポンシブデザイン、アクセシビリティ
- **実施方法**: 手動テスト
- **判定基準**: 主要な操作が直感的に実行できる

## 3. テスト項目

### 3.1 機能テスト項目

#### 記事一覧表示
- 記事一覧が正しく表示される
- ページネーションが正常に動作する
- カテゴリフィルタが正常に動作する
- タグフィルタが正常に動作する

#### 記事詳細表示
- 記事詳細が正しく表示される
- マークダウンが正しくHTMLに変換される
- 画像が正しく表示される
- OGPタグが正しく設定される

#### 検索機能
- 検索が正常に動作する
- 検索結果が正しく表示される
- 検索結果から記事詳細に遷移できる

#### カテゴリ・タグ機能
- カテゴリページが正しく表示される
- タグページが正しく表示される
- カテゴリ・タグから記事詳細に遷移できる

### 3.2 非機能テスト項目

#### パフォーマンス
- ページ読み込み速度が3秒以内
- FCPが1.8秒以内
- LCPが2.5秒以内
- TTIが3.8秒以内

#### セキュリティ
- HTTPS通信が確立されている
- APIキーが環境変数で管理されている
- XSS対策が実装されている

#### レスポンシブデザイン
- PC表示が正常
- タブレット表示が正常
- スマートフォン表示が正常

### 3.3 回帰テスト項目
- 主要機能の動作確認
- 画面遷移の確認
- API連携の確認

### 3.4 テストケース
詳細はテスト設計書（`Docs/03-detailed-design/fixed/08-test-design.md`）を参照

## 4. テスト環境

### 4.1 テスト環境構成
- **開発環境**: ローカル環境（Next.js開発サーバー）
- **ステージング環境**: Vercelのプレビュー環境
- **本番環境**: Vercelの本番環境

### 4.2 ハードウェア環境
- **開発マシン**: 一般的なPC/Mac
- **ブラウザ**: Chrome、Firefox、Safari、Edge（最新版）

### 4.3 ソフトウェア環境
- **Node.js**: 18.x以上
- **Next.js**: 14.x
- **テストフレームワーク**: Jest、React Testing Library、Playwright

### 4.4 テストデータ
- microCMSの開発環境でテストデータを作成
- 10件以上の記事データ
- 3件以上のカテゴリデータ
- 5件以上のタグデータ

### 4.5 テストツール
- **単体テスト**: Jest、React Testing Library
- **E2Eテスト**: Playwright
- **パフォーマンステスト**: Lighthouse、Web Vitals
- **セキュリティテスト**: 手動テスト

## 5. スケジュール

### 5.1 テスト実施スケジュール
- **単体テスト**: 実装と並行して実施
- **結合テスト**: 実装完了後
- **システムテスト**: 実装完了後
- **受入テスト**: システムテスト完了後

### 5.2 マイルストーン
- 単体テスト完了
- 結合テスト完了
- システムテスト完了
- 受入テスト完了

### 5.3 リソース計画
- 開発者がテストを実施
- 必要に応じて外部リソースを活用

## 6. テスト実施体制

### 6.1 テストチーム構成
- 開発者（テスト実施）

### 6.2 役割分担
- 開発者: テストの実施、バグ修正

### 6.3 コミュニケーション体制
- テスト結果はGitHubのIssueで管理
- バグはIssueで報告・管理

## 7. テスト結果管理

### 7.1 テスト結果の記録方法
- テスト結果をドキュメントに記録
- GitHubのIssueでバグを管理

### 7.2 バグ管理
- GitHubのIssueでバグを管理
- 優先度と重要度を設定
- 修正状況を追跡

### 7.3 テスト進捗管理
- テスト進捗をドキュメントで管理
- 定期的に進捗を確認

### 7.4 テスト報告
- テスト完了時にテスト報告書を作成

## 8. リスク管理

### 8.1 テストリスク
- テスト環境の構築に時間がかかる
- テストデータの準備に時間がかかる
- バグの修正に時間がかかる

### 8.2 リスク対策
- 早期にテスト環境を構築
- テストデータを事前に準備
- バグの優先度を適切に設定

### 8.3 エスカレーション
- 重大なバグが発見された場合は即座に報告
- スケジュールに影響がある場合は調整

## 9. 品質基準

### 9.1 テスト完了基準
- すべてのテストケースを実施
- 重大なバグが0件
- 軽微なバグは許容範囲内

### 9.2 品質目標
- テストカバレッジ: 70%以上
- Lighthouseスコア: 90点以上
- Core Web Vitals: すべて「良好」

### 9.3 品質メトリクス
- テストカバレッジ
- バグ数
- パフォーマンススコア
- セキュリティスコア


