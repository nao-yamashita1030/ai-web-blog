# フェーズ移行時のルール

開発モードで次のフェーズに移行する際のコミット・プッシュルールについて説明します。

## 概要

**開発モードで次のフェーズに移行する際は、必ずGitにコミット・プッシュしてください。**

## フェーズ移行のタイミング

フェーズ移行は以下の条件が満たされた時に行います：

1. 現在のフェーズの作業が完了し、内容が `fixed/` ディレクトリに移動されている
2. ユーザーに確認を取って、次のフェーズに進むことが承認されている
3. `Docs/status.md` が更新され、次のフェーズに移行することが記録されている

## コミット・プッシュの手順

1. **変更内容の確認**: `git status` で変更内容を確認
2. **変更のステージング**: `git add -A` ですべての変更をステージング
3. **コミットメッセージの作成**: フェーズ完了を表すコミットメッセージを作成
4. **コミット**: `git commit` でコミット
5. **プッシュ**: `git push origin main`（または適切なブランチ）でプッシュ

## コミットメッセージの形式

フェーズ移行時のコミットメッセージは以下の形式にしてください：

```
docs: [フェーズ名]フェーズを完了

- [完了した内容の箇条書き]
- [次のフェーズ名]フェーズに移行
```

## コミットメッセージの例

```
docs: 要件定義フェーズを完了

- 要件定義書を確定
- 機能要件、非機能要件、技術要件を定義
- 基本設計フェーズに移行
```

```
docs: 基本設計フェーズを完了

- 基本設計書を確定
- システム構成、アーキテクチャ、データベース設計を完了
- 詳細設計フェーズに移行
```

```
docs: 詳細設計フェーズを完了

- 詳細設計書を確定
- クラス設計、データベース詳細設計、API詳細仕様を完了
- テスト計画フェーズに移行
```

## 注意事項

- **必須**: フェーズ移行時は必ずコミット・プッシュを実行してください
- **確認**: コミット・プッシュ前に、ユーザーに確認を取る必要はありません（フェーズ移行の承認時に既に確認済み）
- **エラーハンドリング**: プッシュに失敗した場合は、エラーメッセージを確認し、必要に応じてユーザーに報告してください
- **ブランチ**: メインブランチ以外で作業している場合は、適切なブランチにプッシュしてください

## フェーズ移行の確認フロー

1. 現在のフェーズの作業完了を確認
2. `fixed/` ディレクトリへの移動を確認
3. ユーザーに次のフェーズへの移行を確認
4. `Docs/status.md` を更新（次のフェーズに移行することを記録）
5. **Gitにコミット・プッシュ**（このステップを必ず実行）
6. 次のフェーズの作業を開始

## 関連ルール

- [コミットメッセージのルール](./commit-message.md) - コミットメッセージの書き方

